# =============================================================
# strategy.yaml — 策略参数配置文件
#
# 修改此文件即可调整策略行为，无需修改任何 Python 代码。
# 所有参数均有注释说明其含义和推荐调参方向。
# =============================================================

regime_filter:

  # -----------------------------------------------------------
  # ADX (Average Directional Index) — 趋势强度指标
  # ADX 越高代表趋势越强，与方向无关。
  # 调参建议：
  #   - 降低 adx_trend_threshold → 更容易判断为趋势（保守）
  #   - 升高 adx_trend_threshold → 更难判断为趋势（激进）
  # -----------------------------------------------------------
  adx_period: 14              # ADX 计算周期（标准值：14）
  adx_trend_threshold: 25.0   # ADX 超过此值视为趋势（推荐范围：20-30）

  # -----------------------------------------------------------
  # ATR 比例 (Short ATR / Long ATR) — 波动率突变检测
  # 短期 ATR 相对长期 ATR 突然放大，通常是趋势启动的信号。
  # 调参建议：
  #   - 降低 atr_ratio_threshold → 对波动率更敏感
  #   - 升高 atr_ratio_threshold → 只在极端波动时才触发
  # -----------------------------------------------------------
  atr_short_period: 7         # 短期 ATR 周期
  atr_long_period: 28         # 长期 ATR 周期（建议为短期的 4 倍）
  atr_ratio_threshold: 1.5    # 短/长 ATR 比值超过此值视为趋势（推荐范围：1.3-2.0）

  # -----------------------------------------------------------
  # Bollinger Band Width — 布林带宽度
  # 带宽 = (上轨 - 下轨) / 中轨，衡量相对波动幅度。
  # 调参建议：
  #   - 降低 bb_width_threshold → 更容易触发趋势判断
  #   - 升高 bb_width_threshold → 只在极宽带宽时才触发
  # -----------------------------------------------------------
  bb_period: 20               # 布林带计算周期（标准值：20）
  bb_std: 2.0                 # 布林带标准差倍数（标准值：2.0）
  bb_width_threshold: 0.1     # 相对带宽超过此值视为趋势（推荐范围：0.05-0.15）

  # -----------------------------------------------------------
  # Hurst Exponent — 长期记忆性指标
  # H < 0.5: 均值回归（适合网格）
  # H ≈ 0.5: 随机游走
  # H > 0.5: 趋势持续（不适合网格）
  # 调参建议：
  #   - hurst_period 越大，计算越稳定但响应越慢
  # -----------------------------------------------------------
  hurst_period: 100           # 用于计算 Hurst 的历史数据点数（推荐范围：50-200）
  hurst_threshold: 0.5        # Hurst 超过此值视为趋势（通常固定为 0.5）

  # -----------------------------------------------------------
  # 投票机制 — 综合判断阈值
  # 共 4 个指标参与投票，超过 trend_vote_threshold 个判断为趋势
  # 则最终输出 TREND，否则输出 RANGE。
  # 调参建议：
  #   - 设为 1 → 任意一个指标触发即暂停网格（最保守）
  #   - 设为 3 → 需要 3 个指标同时触发（最激进）
  #   - 推荐值：2（平衡敏感度与误报率）
  # -----------------------------------------------------------
  trend_vote_threshold: 2     # 判断为趋势所需的最少投票数（推荐范围：1-3）
